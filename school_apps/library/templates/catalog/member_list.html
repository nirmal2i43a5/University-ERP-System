{% extends 'admin_templates/base_admin.html'  %} {% block title %}Member List{% endblock title %} 
 {% block main_content %}
  {% include "includes/messages.html" %}

<div class="row">
    <div class="col-xl-12 ml-2">
        <div class="card">
                 {% include 'override_table/header.html' with card_title='Member List' %}
          <!-- /.card-header -->
            <div class="card-body mx-2">
            	<a href=" {% url 'library:add_member' %}" class="btn btn-sm btn-outline float-right text-white " style="background:#435EBE;"  >
						<span> <strong>+ Add Member</strong></span>
					</a>
                <div class="table-stats order-table ov-h">
                     <table id="dataTable"
              class="table table-sm  table-striped table-bordered table-hover text-nowrap dataTable no-footer">
                        <thead>
                            <tr>
                                <th class="serial">#</th>
                                <th>Full Name</th>
                                <th>User ID</th>
                                 <th>Library Id</th>
                                <th>Membership Status</th>

                                <th>Created Date</th>
                                <th>Expiry Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% if memberlist %} {% for member_list in memberlist %}
                            <tr>
                                <td class="serial">{{ forloop.counter }}</td>
                                <td>{{ member_list.member.student_user.full_name }}</td>

                                <td>{{ member_list.member.stu_id}}</td>
                                <td>{{ member_list.library_card_no}}</td>

                            
                                {% if member_list.status == 'approved' %}
                            <td><span class="badge badge-success">{{ member_list.status }}</span></td>

                                {% elif member_list.status == 'pending'  %}
                                <td><span class="badge badge-warning">{{ member_list.status }}</span></td>
                                     {% else  %}
                                <td><span class="badge badge-danger">{{ member_list.status }}</span></td>
                                {% endif %}

                                <td>{{ member_list.created_at }}</td>
                                <td></td>

                                <td>
                                    {% comment %} <a href="{% url 'library:member_detail' member_list.id %}" class="btn btn-xs btn-success">View details</a> {% endcomment %}
                                    {% comment %} <a href="" class="btn btn-sm btn-primary"><i class="nav-icon fas fa-cart-plus"></i> <strong>Issue Book</strong> </a> {% endcomment %}

                                    <a href="{% url 'library:edit_member' member_list.id %}" class="btn btn-sm btn-success"><i class="fas fa-edit"></i><strong>Edit</strong>  </a>
                                    <a href="{% url 'library:del_member' member_list.id %}" class="btn btn-sm btn-danger"><i class="fas fa-xs fa-trash-alt"></i><strong>Delete</strong> </a>
                                </td>
                            </tr>
                            {% endfor %} {% else %}
                            <tr>
                                <td>No Member Data</td>
                            </tr>
                            {% endif %}
                        </tbody>
                    </table>
                </div>
                <!-- /.table-stats -->
            </div>
        </div>
        <!-- /.card -->
    </div>
    <!-- /.col-lg-8 -->


</div>
{% endblock main_content %}

