

 
{% extends 'admin_templates/base_admin.html' %}
{% load scheduletags i18n %}
{% load static %}
{% load compress %}
{% load auth_extras %}

{% block title %}
Dashboard

{% endblock title %}

{% block main_content %}


<div class="card mx-4">
  <div class="card-body" style="background:#435EBE;color:white;border-radius:10px;">
      
    {% if request.user|has_group:'Library' or request.user.is_superuser  %}
    <h3 style="text-align: center;"><strong>Welcome To Library Portal</strong> </h3>
    {% endif %}

  </div>       
</div>

{% include "includes/include_admin/erp_components.html" %}

{% include "includes/include_admin/classroom_popup.html" %}
{% compress js %}
<script
type="text/javascript"
src="{% static 'plugins/highcharts/highcharts.js' %}"
></script>
<script
type="text/javascript"
src="{% static 'plugins/highcharts/modules/exporting.js' %}"
></script>
<script
type="text/javascript"
src="{% static 'plugins/highcharts/modules/export-data.js' %}"
></script>
<script
type="text/javascript"
src="{% static 'plugins/highcharts/modules/accessibility.js' %}"
></script>
{% endcompress %}



    
<section class="content">
  <div class="container-fluid">


 {% if  request.user.is_superuser  or request.user|has_group:'Library'  %}

   
   
     <div class="row mx-3">
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box border border-success">
          <span class="info-box-icon elevation-1" style="background:#435EBE;color:white;">
            <a href="{% url 'admin_app:manage_student' %}"> <i class="fas fa-1x fa-user-graduate"></i></a>
          </span>

          <div class="info-box-content">
            <span class="info-box-text">Total Members</span>
            <span class="info-box-number">
              {{library_member_count}}
            </span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3 " style="border:1px solid  #A3EDBA;">
          <span class="info-box-icon elevation-1" style="background-color:#A3EDBA"> <i class="fas fa-1x fa-book-open"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Total Books</span>
            <span class="info-box-number">{{book_count}}</span>
          </div>
        </div>
      </div>
      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3 " style="border:1px solid  #B2B6FF;">
          <span class="info-box-icon  elevation-1" style = "background-color:#B2B6FF" >
            <a href="{% url 'admin_app:manage_staff' %}" class="text-white"> <i class="fas fa-1x fa-chalkboard-teacher"></i></a>
          </span>

          <div class="info-box-content ">
            <span class="info-box-text">Total Issues</span>
            <span class="info-box-number">{{book_issue_count}}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->

      <!-- fix for small devices only -->
      <div class="clearfix hidden-md-up"></div>

      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3 border border-primary">
          <span class="info-box-icon bg-primary elevation-1">
            <a href="{% url 'academic:manage_subject' %}"> <i class="fas fa-1x fa-book-open"></i></a>
          </span>

          <div class="info-box-content">
            <span class="info-box-text">Total Return</span>
            <span class="info-box-number">{{book_return_count}}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
    
      <!-- /.col -->
    </div>
   
   
   
   
   
   
   
   
    <div class="row">
      <div class="col-md-6">
        <figure class="issues_returns_members_total">
          <div id="issues_returns_members_total-container"></div>
          <!-- <p class="highcharts-description">
          This pie chart shows the total number os students and teachers.
      </p> -->
        </figure>
      </div>
      <div class="col-md-6">
        <figure class="categories_books">
          <div id="categories_books-container"></div>
          <!-- <p class="highcharts-description">
          chart for subject and year

      </p> -->
        </figure>
      </div>
       <div class="col-md-6">
        <figure class="fine_details">
          <div id="fine_details-container"></div>
          <!-- <p class="highcharts-description">
          chart for subject and year

      </p> -->
        </figure>
      </div>
       <div class="col-md-6">
        <figure class="renew_status">
          <div id="renew_status-container"></div>
          <!-- <p class="highcharts-description">
          chart for subject and year

      </p> -->
        </figure>
      </div>
    </div>
    {% include "includes/include_admin/charts/library_management/issues_returns_members.html" %}
    {% include "includes/include_admin/charts/library_management/books_and_categories.html" %}

    {% include "includes/include_admin/charts/library_management/renew_status.html" %}

    {% include "includes/include_admin/charts/library_management/fine_details.html" %}





 {% endif %}



</div>

</section>
  









    {% endblock %}


    {% compress js %}

    {% block custom_js %}
  
    {% include "fullcalendar_script.html" %}

    <script type="text/javascript">
      $(window).on('load', function () {
        $('#noticeModal').modal('show');
      });
    </script>

    {% endblock custom_js %}


{% endcompress %}